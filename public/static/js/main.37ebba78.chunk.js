(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{115:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a(21),c=a.n(r),n=(a(84),a(85),a(8)),o=a(13),i=a(121),d=a(122),l=a(72),j=a(0);var p=()=>Object(j.jsx)("footer",{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(d.a,{children:Object(j.jsx)(l.a,{className:"text-center py-3",children:"Copyright \xa9Store Notify"})})})}),h=a(131),b=a(132),O=a(127),u=a(12),x=a(7);const g="USER_LOGIN_REQUEST",m="USER_LOGIN_SUCCESS",y="USER_LOGIN_FAIL",f="USER_LOGOUT",v="USER_REGISTER_REQUEST",S="USER_REGISTER_SUCCESS",E="USER_REGISTER_FAIL",I="USER_FORGOT_PASSWORD_REQUEST",C="USER_FORGOT_PASSWORD_SUCCESS",_="USER_FORGOT_PASSWORD_FAIL",R="USER_RESET_PASSWORD_REQUEST",T="USER_RESET_PASSWORD_SUCCESS",A="USER_RESET_PASSWORD_FAIL",L="USER_RESET_PASSWORD_RESET",P="USER_DETAILS_REQUEST",D="USER_DETAILS_SUCCESS",w="USER_DETAILS_FAIL",k="USER_DETAILS_RESET",N="USER_UPDATE_PROFILE_REQUEST",U="USER_UPDATE_PROFILE_SUCCESS",F="USER_UPDATE_PROFILE_FAIL",G="USER_UPDATE_PROFILE_RESET",z="USER_LIST_REQUEST",M="USER_LIST_SUCCESS",$="USER_LIST_FAIL",q="USER_LIST_RESET",Q="USER_ADMIN_DELETE_REQUEST",J="USER_ADMIN_DELETE_SUCCESS",B="USER_ADMIN_DELETE_FAIL",Y="GET_USER_ADMIN_REQUEST",W="GET_USER_ADMIN_SUCCESS",V="GET_USER_ADMIN_FAIL",H="GET_USER_ADMIN_RESET",K="UPDATE_USER_ADMIN_REQUEST",X="UPDATE_USER_ADMIN_SUCCESS",Z="UPDATE_USER_ADMIN_FAIL",ee="UPDATE_USER_ADMIN_RESET",te="ORDER_CREATE_REQUEST",ae="ORDER_CREATE_SUCCESS",se="ORDER_CREATE_FAIL",re="ORDER_CREATE_RESET",ce="ORDER_DETAILS_REQUEST",ne="ORDER_DETAILS_SUCCESS",oe="ORDER_DETAILS_FAIL",ie="ORDER_PAY_REQUEST",de="ORDER_PAY_SUCCESS",le="ORDER_PAY_FAIL",je="ORDER_PAY_RESET",pe="MY_ORDER_REQUEST",he="MY_ORDER_SUCCESS",be="MY_ORDER_FAIL",Oe="MY_ORDER_RESET",ue="ORDER_GET_REQUEST",xe="ORDER_GET_SUCCESS",ge="ORDER_GET_FAIL",me="ORDER_UPDATE_REQUEST",ye="ORDER_UPDATE_SUCCESS",fe="ORDER_UPDATE_FAIL",ve="ORDER_UPDATE_RESET",Se="__STORENOTIFY_CARTITEMS",Ee="__STORENOTIFY_USERINFO",Ie="__STORENOTIFY_SHIPPING_ADDRESS",Ce="__STORENOTIFY_PAYMENT_METHOD";var _e=a(9),Re=a.n(_e);var Te=a(129),Ae=a(74);a(71);var Le=()=>{const[e,t]=Object(s.useState)(""),a=Object(o.k)();return Object(j.jsxs)(Te.a,{onClick:t=>{e.trim()?(a.push(`/search/${e}`),localStorage.setItem("keywords",e)):a.push("/")},inline:!0,children:[Object(j.jsx)(Te.a.Control,{type:"text",name:"q",onChange:e=>{t(e.target.value)},placeholder:"Search Products",className:"ml-sm-2 ml-sm-5 w-50 search-input "}),Object(j.jsx)(Ae.a,{type:"submit",variant:"",className:"p-2 btn-custom",children:"Search"})]})};a(115);var Pe=()=>{const e=Object(x.b)(),t=Object(o.k)(),a=Object(x.c)((e=>e.userLogin.userInfo));return Object(j.jsx)("header",{children:Object(j.jsx)(h.a,{style:{backgroundColor:"#cfecfc",color:"#343a40"},variant:"light",expand:"lg",collapseOnSelect:!0,children:Object(j.jsxs)(i.a,{children:[Object(j.jsx)(u.LinkContainer,{to:"/",children:Object(j.jsx)(h.a.Brand,{style:{color:"#a5fffc"},children:Object(j.jsx)("span",{style:{color:"#0831ff",fontWeight:"800",fontFamily:"Nunito, sans-serif"},children:"Store Notify"})})}),Object(j.jsx)(Le,{}),Object(j.jsx)(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(j.jsx)(h.a.Collapse,{children:Object(j.jsxs)(b.a,{className:"ml-auto",children:[Object(j.jsx)(u.LinkContainer,{to:"/cart",children:Object(j.jsxs)(b.a.Link,{children:[Object(j.jsx)("i",{style:{color:"#0831ff"},className:"fas fa-shopping-cart"}),Object(j.jsx)("span",{style:{color:"#0831ff"},children:"Cart"})]})}),a?Object(j.jsxs)(O.a,{style:{color:"#0831ff"},title:a.name,id:"username",children:[Object(j.jsx)(u.LinkContainer,{to:"/profile",children:Object(j.jsx)(O.a.Item,{children:Object(j.jsx)("span",{style:{color:"#0831ff"},children:"Profile"})})}),Object(j.jsx)(O.a.Item,{onClick:()=>{e((e=>{e({type:f}),e({type:k}),e({type:G}),e({type:Oe}),e({type:q}),e({type:H}),e({type:ee}),e({type:ve}),e({type:R}),localStorage.removeItem(Ee)})),t.push("/login")},children:Object(j.jsx)("span",{style:{color:"#0831ff"},children:"Logout"})})]}):Object(j.jsx)(u.LinkContainer,{to:"/login",children:Object(j.jsxs)(b.a.Link,{id:"signin",children:[Object(j.jsx)("i",{style:{color:"#0831ff"},className:"fas fa-user"}),Object(j.jsx)("span",{style:{color:"#0831ff"},children:"Sign In"})]})}),a&&a.isAdmin&&Object(j.jsxs)(O.a,{title:"admin",id:"admin",children:[Object(j.jsx)(u.LinkContainer,{to:"/admin/userlist",children:Object(j.jsx)(O.a.Item,{children:"Users List"})}),Object(j.jsx)(u.LinkContainer,{to:"/admin/productlist",children:Object(j.jsx)(O.a.Item,{children:"Products"})}),Object(j.jsx)(u.LinkContainer,{to:"/admin/orderlist",children:Object(j.jsx)(O.a.Item,{children:"Orders"})})]})]})})]})})})},De=a(133);const we=e=>{let{value:t,text:a,color:s}=e;return Object(j.jsxs)("div",{className:"rating",children:[Object(j.jsx)("span",{children:Object(j.jsx)("i",{className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star",style:{color:s}})}),Object(j.jsx)("span",{children:Object(j.jsx)("i",{className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star",style:{color:s}})}),Object(j.jsx)("span",{children:Object(j.jsx)("i",{className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star",style:{color:s}})}),Object(j.jsx)("span",{children:Object(j.jsx)("i",{className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star",style:{color:s}})}),Object(j.jsx)("span",{children:Object(j.jsx)("i",{className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star",style:{color:s}})}),Object(j.jsx)("span",{children:a&&a})]})};we.defaultProps={color:"#f8e825",value:0};var ke=we;var Ne=e=>{let{children:t,urlToProtect:a,isAllowed:r}=e;const c=Object(o.k)(),[i,d]=Object(s.useState)(!1);Object(s.useEffect)((()=>{let e=localStorage.getItem(Ee);if(null!==e&&void 0!==e)try{e=JSON.parse(e),e.token||d(!0)}catch(t){console.error("Invalid user object in localStorage")}}),[]);return Object(j.jsx)(n.Link,{to:a,onClick:e=>{i?c.push(a):(e.preventDefault(),alert("Please login to access this page."))},children:t})};var Ue=e=>{let{product:t,isAllowed:a}=e;return Object(j.jsxs)(De.a,{className:"my-3 p-3 rounded",children:[Object(j.jsx)(Ne,{urlToProtect:`/product/${t._id}`,isAllowed:a,children:Object(j.jsx)(De.a.Img,{src:t.image,variant:"top"})}),Object(j.jsxs)(De.a.Body,{children:[Object(j.jsx)(Ne,{urlToProtect:`/product/${t._id}`,isAllowed:a,children:Object(j.jsx)(De.a.Title,{as:"div",children:Object(j.jsx)("strong",{children:t.name})})}),Object(j.jsx)(De.a.Text,{as:"div",children:Object(j.jsx)(ke,{value:t.rating,text:t.numReviews})}),Object(j.jsxs)(De.a.Text,{as:"h3",children:["Rs ",t.price]})]})]})};const Fe="PRODUCT_LIST_REQUEST",Ge="PRODUCT_LIST_SUCCESS",ze="PRODUCT_LIST_FAIL",Me="PRODUCT_FILTER_REQUEST",$e="PRODUCT_FILTER_SUCCESS",qe="PRODUCT_DETAIL_REQUEST",Qe="PRODUCT_DETAIL_SUCCESS",Je="PRODUCT_DETAIL_FAIL",Be="PRODUCT_DELETE_REQUEST",Ye="PRODUCT_DELETE_SUCCESS",We="PRODUCT_DELETE_FAIL",Ve="PRODUCT_CREATE_REQUEST",He="PRODUCT_CREATE_SUCCESS",Ke="PRODUCT_CREATE_FAIL",Xe="PRODUCT_CREATE_RESET",Ze="PRODUCT_UPDATE_REQUEST",et="PRODUCT_UPDATE_SUCCESS",tt="PRODUCT_UPDATE_FAIL",at="PRODUCT_UPDATE_RESET",st="PRODUCT_REVIEW_REQUEST",rt="PRODUCT_REVIEW_SUCCESS",ct="PRODUCT_REVIEW_FAIL",nt="PRODUCT_REVIEW_RESET",ot="PRODUCT_TOP_RATED_REQUEST",it="PRODUCT_TOP_RATED_SUCCESS";let dt="vivo";function lt(e){try{const t=JSON.parse(e);return t&&"object"===typeof t}catch(t){return!1}}function jt(e){try{return JSON.stringify(e),console.log(JSON.stringify(e)),!0}catch(t){return!1}}const pt=async e=>{const t=["vivo","oppo","motorola","samsung"],a=[1],s=[];for(const n of t)for(const e of a){const t=`https://5f6de4a7-67ca-41e3-8e73-63d1fd322c3e.e1-us-east-azure.choreoapps.dev/data/${n}Page${e}.json`;s.push(Re.a.get(t).then((e=>({brand:n,data:e.data}))).catch((e=>(console.error(`\u274c Failed to load ${t}`,e.message),{brand:n,data:[]}))))}const r=await Promise.all(s),c={};return t.forEach((e=>{c[e]=r.filter((t=>t.brand===e)).flatMap((e=>e.data)),console.log(c[e][0])})),t.find((t=>t===e))},ht=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return async a=>{try{a({type:Fe}),dt=e;const{data:s}=await Re.a.get(`https://5f6de4a7-67ca-41e3-8e73-63d1fd322c3e.e1-us-east-azure.choreoapps.dev/api/products?keyword=${e}&pageNumber=${t}`);a({type:Ge,payload:s});const r=["vivo","oppo","motorola","samsung"];let c=[];for(let e=0;e<r.length;e++){let t=r[e],a=await pt(t);if(void 0!==a&&null!==a)if(lt(a)){console.log(a);let e=JSON.parse(a);c.push(e)}else jt(a)&&c.push(a)}a({type:Ge,payload:c[e]})}catch(s){const t=["vivo","oppo","motorola","samsung"];let r=[];for(let e=0;e<t.length;e++){let a=t[e],s=await pt(a);if(void 0!==s&&null!==s){let e="";if(lt(s)){if(e=JSON.parse(s),Array.isArray(e)){let t=e[0];console.log(t)}}else jt(s)&&(e=s,console.log("static cached products loaded "));Array.isArray(e)&&r.push({brand:a,data:e})}}let c=r.filter((t=>t.brand===e));console.log(c[0].data);let n={products:c[0].data,pages:1,page:1};console.log(n.products),void 0==n&&null==n&&(0===c.length||a({type:ze,payload:s.response&&s.response.data.message?s.response.data.message:s.message}))}}},bt=e=>async t=>{try{t({type:qe});const{data:a}=await Re.a.get(`https://5f6de4a7-67ca-41e3-8e73-63d1fd322c3e.e1-us-east-azure.choreoapps.dev/api/products/${e}`);t({type:Qe,payload:a})}catch(a){t({type:Je,payload:a.response&&a.response.data.message?a.response.data.message:a.message})}};var Ot=a(134);var ut=e=>{let{pages:t,page:a,isAdmin:s=!1,keywords:r=""}=e;return t>1&&Object(j.jsx)(Ot.a,{children:[...Array(t).keys()].map((e=>Object(j.jsx)(u.LinkContainer,{to:s?`/admin/productlist/page/${e+1}`:r?`/search/${r}/page/${e+1}`:`/page/${e+1}`,children:Object(j.jsx)(Ot.a.Item,{active:e+1===a,children:e+1})},e+1)))})},xt=a(123);const gt=e=>{let{variant:t,children:a}=e;return Object(j.jsx)(xt.a,{className:"alert-setting",variant:t,children:a})};gt.defaultProps={variant:"info"};var mt=gt,yt=a(124);var ft=()=>Object(j.jsx)(yt.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"},children:Object(j.jsx)("span",{className:"sr-only",children:"Loading ..."})}),vt=a(130),St=a(125);var Et=()=>{const e=Object(x.b)();Object(s.useEffect)((()=>{e((async e=>{try{e({type:ot});const{data:t}=await Re.a.get("https://5f6de4a7-67ca-41e3-8e73-63d1fd322c3e.e1-us-east-azure.choreoapps.dev/api/products/toprated");e({type:it,payload:t})}catch(r){const a=["vivo","oppo","motorola","samsung"];let s=[];for(let e=0;e<a.length;e++){let t=a[e],r=await pt(t);if(void 0!==r&&null!==r){let e="";if(lt(r)){let e=JSON.parse(r);if(Array.isArray(e)){let t=e[0];console.log(t)}}else jt(r)&&(e=r,console.log("static cached products loaded "));Array.isArray(e)&&s.push({brand:t,data:e})}}dt=null!==dt&&void 0!==dt?dt:"oppo";let c=s.filter((e=>e.brand===dt));console.log(c[0].data);let n={products:c[0].data,pages:1,page:1};console.log("TOP RATED   "+n.products),e({type:it,payload:n}),void 0==n&&null==n&&(0===c.length||e({type:ze,payload:r.response&&r.response.data.message?r.response.data.message:r.message}))}}))}),[e]);const t=Object(x.c)((e=>e.productTopRated)),{loading:a,error:r,products:c}=t;return a?Object(j.jsx)(ft,{}):r?Object(j.jsx)(mt,{variant:"danger",children:r}):Object(j.jsx)(vt.a,{className:"bg-dark",children:c&&c.map((e=>Object(j.jsx)(vt.a.Item,{interval:5e3,children:Object(j.jsxs)(n.Link,{to:`/product/${e._id}`,children:[Object(j.jsx)(St.a,{src:e.image,alt:e.name,fluid:!0}),Object(j.jsx)(vt.a.Caption,{className:"carousel-caption",children:Object(j.jsxs)("h2",{children:[e.name," (",e.brand,")"]})})]})},e._id)))})},It=a(75);const Ct=e=>{let{title:t}=e;return Object(j.jsx)(It.a,{children:Object(j.jsx)("title",{children:t})})};Ct.defaultProps={title:"Store Notify"};var _t=Ct,Rt=a(128);var Tt=e=>{let{products:t}=e,a=[],r=[];function c(e){return Array.from(new Set(e))}t.forEach((e=>{let{category:t,brand:s}=e;a.push(t.toLowerCase()),r.push(s.toLowerCase())}));const[n,i]=Object(s.useState)(!1),[d,l]=Object(s.useState)(""),[p,h]=Object(s.useState)(""),[b,O]=Object(s.useState)(""),[u,g]=Object(s.useState)(""),m=Object(o.k)(),y=Object(x.b)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Ae.a,{onClick:()=>{i(!0)},variant:"dark",children:"Filter products"}),Object(j.jsxs)(Rt.a,{show:n,onHide:()=>{i(!1)},children:[Object(j.jsx)(Rt.a.Header,{closeButton:!0,children:"Filter By"}),Object(j.jsx)(Rt.a.Body,{children:t&&Object(j.jsxs)(Te.a,{onSubmit:e=>{e.preventDefault(),y(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return async r=>{try{r({type:Me});const{data:c}=await Re.a.get(`https://5f6de4a7-67ca-41e3-8e73-63d1fd322c3e.e1-us-east-azure.choreoapps.dev/api/products/filter?rating=${e}&price=${t}&brand=${a}&category=${s}`);r({type:$e,payload:c})}catch(c){r({type:Je,payload:c.response&&c.response.data.message?c.response.data.message:c.message})}}}(d,p,b,u)),m.push("/filter")},children:[Object(j.jsxs)(Te.a.Group,{controlId:"rating",children:[Object(j.jsx)(Te.a.Label,{children:"Rating (Minimum)"}),Object(j.jsx)(Te.a.Control,{type:"number",placeholder:"Filter by rating",value:d,onChange:e=>l(e.target.value)})]}),Object(j.jsxs)(Te.a.Group,{controlId:"price",children:[Object(j.jsx)(Te.a.Label,{children:"Price (Maximum)"}),Object(j.jsx)(Te.a.Control,{type:"number",placeholder:"Filter by Price",value:p,onChange:e=>h(e.target.value)})]}),Object(j.jsxs)(Te.a.Group,{controlId:"category",children:[Object(j.jsx)(Te.a.Label,{children:"Category"}),Object(j.jsxs)(Te.a.Control,{as:"select",value:u,onChange:e=>g(e.target.value),children:[Object(j.jsx)("option",{value:"",children:"Select Category"}),c(a).map(((e,t)=>Object(j.jsx)("option",{value:e,children:e},t)))]})]}),Object(j.jsxs)(Te.a.Group,{controlId:"brand",children:[Object(j.jsx)(Te.a.Label,{children:"Brand"}),Object(j.jsxs)(Te.a.Control,{as:"select",value:b,onChange:e=>O(e.target.value),children:[Object(j.jsx)("option",{value:"",children:"Select Brand"}),c(r).map(((e,t)=>Object(j.jsx)("option",{value:e,children:e},t)))]})]}),Object(j.jsx)(Ae.a,{variant:"dark",type:"submit",children:"Filter"})]})})]})]})};var At=()=>{const e=Object(x.b)(),{keywords:t,pageNumber:a}=Object(o.m)(),[r,c]=Object(s.useState)(!0),n=Object(x.c)((e=>e.productList)),{loading:i,error:p,products:h,page:b,pages:O}=n;return Object(s.useEffect)((()=>{let s=localStorage.getItem(Ee);if(null!==s&&void 0!==s&&(s=JSON.parse(s),null!==s.token&&s.token,c(!0)),void 0!==t&&void 0!==a)e(ht(t,a));else{let t=localStorage.getItem("keywords");e(ht(null!==t&&void 0!==t?t:"oppo",a))}}),[e,t,a]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_t,{title:"Store Notify | Home"}),h&&Object(j.jsxs)(j.Fragment,{children:[!t&&Object(j.jsx)(Et,{}),Object(j.jsx)("h1",{children:"Latest Products"}),i?Object(j.jsx)(ft,{}):p?Object(j.jsx)(mt,{variant:"danger",children:p}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Tt,{products:h}),Object(j.jsx)(d.a,{children:h.map((e=>Object(j.jsx)(l.a,{sm:12,md:6,lg:6,xl:3,children:Object(j.jsx)(Ue,{product:e,isAllowed:r})},e._id)))}),Object(j.jsx)(ut,{page:b,pages:O,keywords:t||""})]})]})]})},Lt=a(135);var Pt=()=>{const{id:e}=Object(o.m)(),t=Object(o.k)(),[a,r]=Object(s.useState)(0),[c,i]=Object(s.useState)(""),p=Object(x.b)(),h=Object(x.c)((e=>e.productDetail)),{loading:b,error:O,product:u}=h,g=Object(x.c)((e=>e.productReview)),{success:m,error:y,loading:f}=g,v=Object(x.c)((e=>e.userLogin.userInfo));Object(s.useEffect)((()=>{null!==e&&void 0!==e?p(bt(e)):t.push("/requestlogin"),m&&(r(0),i(""),p({type:nt}))}),[e,p,m]);const[S,E]=Object(s.useState)(1);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_t,{title:u&&u.name}),Object(j.jsx)(n.Link,{className:"btn btn-light my-2",to:"/",children:"Go Back"}),b?Object(j.jsx)(ft,{}):O?Object(j.jsx)(mt,{variant:"danger",children:O}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{md:6,children:Object(j.jsx)(St.a,{fluid:!0,src:u.image,alt:u.image})}),Object(j.jsx)(l.a,{md:3,children:Object(j.jsxs)(Lt.a,{variant:"flush",children:[Object(j.jsx)(Lt.a.Item,{children:Object(j.jsx)("h3",{children:u.name})}),Object(j.jsx)(Lt.a.Item,{children:Object(j.jsx)(ke,{value:u.rating,text:u.numReviews})}),Object(j.jsxs)(Lt.a.Item,{children:["Price: Rs ",u.price]}),Object(j.jsxs)(Lt.a.Item,{children:["Description: ",u.description]})]})}),Object(j.jsx)(l.a,{md:3,children:Object(j.jsx)(De.a,{children:Object(j.jsxs)(Lt.a,{variant:"flush",children:[Object(j.jsx)(Lt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Price"}),Object(j.jsx)(l.a,{children:Object(j.jsxs)("strong",{children:["Rs ",u.price]})})]})}),Object(j.jsx)(Lt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Brand"}),Object(j.jsx)(l.a,{children:u.brand})]})}),Object(j.jsx)(Lt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Status"}),Object(j.jsx)(l.a,{children:u.countInStock>0?"In Stock":"Out of Stock"})]})}),u.countInStock>0&&Object(j.jsx)(Lt.a.Item,{children:Object(j.jsx)(d.a,{children:Object(j.jsx)(l.a,{children:Object(j.jsx)(Te.a.Control,{as:"select",value:S,onChange:e=>E(e.target.value),children:[...Array(u.countInStock).keys()].map((e=>Object(j.jsx)("option",{value:e+1,children:e+1},e+1)))})})})}),Object(j.jsx)(Lt.a.Item,{children:Object(j.jsx)(Ae.a,{disabled:0===u.countInStock,onClick:()=>{t.push(`/cart/${e}?qty=${S}`)},className:"btn-block btn-dark",children:"Add to Cart"})})]})})})]}),Object(j.jsx)(d.a,{children:Object(j.jsxs)(l.a,{md:6,children:[Object(j.jsx)("h2",{children:"Reviews"}),u.review&&0===u.reviews.length&&Object(j.jsx)(mt,{children:"No Reviews"}),Object(j.jsxs)(Lt.a,{variant:"flush",children:[u.reviews&&u.reviews.map((e=>Object(j.jsxs)(Lt.a.Item,{children:[Object(j.jsx)("strong",{children:e.name}),Object(j.jsx)(ke,{value:e.rating}),Object(j.jsx)("p",{children:e.createdAt.substring(0,10)}),Object(j.jsx)("p",{children:e.comment})]},e._id))),Object(j.jsxs)(Lt.a.Item,{children:[Object(j.jsx)("h2",{children:"Write a Customer Review"}),m&&Object(j.jsx)(mt,{variant:"success",children:"Review submitted successfully"}),f&&Object(j.jsx)(ft,{}),y&&Object(j.jsx)(mt,{variant:"danger",children:y}),v?Object(j.jsxs)(Te.a,{onSubmit:t=>{t.preventDefault(),p(((e,t)=>async(a,s)=>{try{a({type:st});const r={headers:{"Content-Type":"Application/json",Authorization:s().userLogin.userInfo.token}},{data:c}=await Re.a.post(`https://5f6de4a7-67ca-41e3-8e73-63d1fd322c3e.e1-us-east-azure.choreoapps.dev/api/products/${t}/review`,{rating:e.rating,comment:e.comment},r);a({type:rt,payload:c})}catch(O){a({type:ct,payload:O.response&&O.response.data.message?O.response.data.message:O.message})}})({rating:a,comment:c},e))},children:[Object(j.jsxs)(Te.a.Group,{controlId:"rating",children:[Object(j.jsx)(Te.a.Label,{children:"Rating"}),Object(j.jsxs)(Te.a.Control,{as:"select",value:a,onChange:e=>r(e.target.value),children:[Object(j.jsx)("option",{value:"",children:"Select..."}),Object(j.jsx)("option",{value:"1",children:"1 - Poor"}),Object(j.jsx)("option",{value:"2",children:"2 - Fair"}),Object(j.jsx)("option",{value:"3",children:"3 - Good"}),Object(j.jsx)("option",{value:"4",children:"4 - Very Good"}),Object(j.jsx)("option",{value:"5",children:"5 - Excellent"})]})]}),Object(j.jsxs)(Te.a.Group,{controlId:"comment",children:[Object(j.jsx)(Te.a.Label,{children:"Comment"}),Object(j.jsx)(Te.a.Control,{as:"textarea",row:"3",value:c,onChange:e=>i(e.target.value)})]}),Object(j.jsx)(Ae.a,{disabled:f,type:"submit",variant:"primary",children:"Submit"})]}):Object(j.jsx)(mt,{children:Object(j.jsx)(n.Link,{to:"/login",children:"Please sign in to write a review"})})]})]})]})})]})]})};const Dt="CART_ADD_ITEM",wt="CART_REMOVE_ITEM",kt="CART_ITEM_RESET",Nt="CART_SAVE_SHIPPING_ADDRESS",Ut="CART_SAVE_PAYMENT_METHOD",Ft=(e,t)=>async(a,s)=>{const{data:r}=await Re.a.get(`https://5f6de4a7-67ca-41e3-8e73-63d1fd322c3e.e1-us-east-azure.choreoapps.dev/api/products/${e}`);a({type:Dt,payload:{product:r._id,name:r.name,image:r.image,price:r.price,countInStock:r.countInStock,qty:t}}),localStorage.setItem(Se,JSON.stringify(s().cart.cartItems))};var Gt=e=>{let{history:t}=e;const{id:a}=Object(o.m)(),r=Object(o.l)(),c=r.search?+r.search.split("=")[1]:1,i=Object(x.b)(),p=Object(x.c)((e=>e.cart.cartItems));Object(s.useEffect)((()=>{a&&i(Ft(a,c))}),[i,a,c]);const h=e=>{i((e=>(t,a)=>{t({type:wt,payload:e}),localStorage.setItem(Se,JSON.stringify(a().cart.cartItems))})(e))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_t,{title:"Store Notify| Cart"}),Object(j.jsxs)(d.a,{children:[Object(j.jsxs)(l.a,{md:8,children:[Object(j.jsx)("h2",{children:"Your Cart"}),0===p.length?Object(j.jsxs)(mt,{children:["Your Cart is Empty ",Object(j.jsx)(n.Link,{to:"/",children:"GO BACK"})]}):Object(j.jsx)(Lt.a,{variant:"flush",children:p.map((e=>Object(j.jsx)(Lt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{md:2,children:Object(j.jsx)(St.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(j.jsx)(l.a,{md:3,children:Object(j.jsx)(n.Link,{to:`/product/${e.product}`,children:e.name})}),Object(j.jsxs)(l.a,{md:2,children:["Rs ",e.price]}),Object(j.jsx)(l.a,{md:3,children:Object(j.jsx)(Te.a.Control,{as:"select",value:e.qty,onChange:t=>i(Ft(e.product,+t.target.value)),children:[...Array(e.countInStock).keys()].map((e=>Object(j.jsx)("option",{value:e+1,children:e+1},e+1)))})}),Object(j.jsx)(l.a,{md:2,children:Object(j.jsx)(Ae.a,{type:"button",variant:"light",onClick:()=>h(e.product),children:Object(j.jsx)("i",{style:{fontSize:"15px"},className:"fas fa-trash"})})})]})},e.product)))})]}),Object(j.jsx)(l.a,{md:4,children:Object(j.jsx)(De.a,{children:Object(j.jsxs)(Lt.a,{variant:"flush",children:[Object(j.jsxs)(Lt.a.Item,{children:[Object(j.jsxs)("h2",{children:["Subtotal (",p.reduce(((e,t)=>e+t.qty),0),") items"]}),"Rs",p.reduce(((e,t)=>e+t.qty*t.price),0).toFixed(2)]}),Object(j.jsx)(Lt.a.Item,{children:Object(j.jsx)(Ae.a,{type:"button",className:"btn-block",disabled:0===p.length,onClick:()=>{t.push("/login?redirect=shipping")},children:"Proceed to checkout"})})]})})})]})]})};var zt=e=>{let{children:t}=e;return Object(j.jsx)(i.a,{children:Object(j.jsx)(d.a,{className:"justify-content-md-center",children:Object(j.jsx)(l.a,{xs:12,md:6,children:t})})})};a(117);var Mt=()=>{const[e,t]=Object(s.useState)(""),[a,r]=Object(s.useState)(""),c=Object(o.k)(),i=Object(o.l)(),p=Object(x.b)(),h=Object(x.c)((e=>e.userLogin)),b=i.search?i.search.split("=")[1]:"/",{loading:O,error:u,userInfo:f}=h;Object(s.useEffect)((()=>{f&&c.push(b)}),[c,f,b]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_t,{title:"Store Notify| Log-In"}),Object(j.jsxs)(zt,{children:[Object(j.jsx)("h1",{children:"Sign In"}),u&&Object(j.jsx)(mt,{variant:"danger",children:u}),O&&Object(j.jsx)(ft,{}),Object(j.jsxs)(Te.a,{onSubmit:t=>{t.preventDefault(),p(((e,t)=>async a=>{try{a({type:g});const s={headers:{"Content-Type":"application/json"}},{data:r}=await Re.a.post("https://5f6de4a7-67ca-41e3-8e73-63d1fd322c3e.e1-us-east-azure.choreoapps.dev/api/user/login",{email:e,password:t},s);a({type:m,payload:r}),localStorage.setItem(Ee,JSON.stringify(r))}catch(u){a({type:y,payload:u.response&&u.response.data.message?u.response.data.message:u.message})}})(e,a))},children:[Object(j.jsxs)(Te.a.Group,{controlId:"email",children:[Object(j.jsx)(Te.a.Label,{children:"Enter your email"}),Object(j.jsx)(Te.a.Control,{type:"email",placeholder:"Enter email",value:e,onChange:e=>t(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"password",children:[Object(j.jsx)(Te.a.Label,{children:"Enter your password"}),Object(j.jsx)(Te.a.Control,{type:"password",placeholder:"Enter password",value:a,onChange:e=>r(e.target.value),required:!0})]}),Object(j.jsx)(Ae.a,{type:"submit",className:"btn-custom",variant:"primary",children:"Sign In"})]}),Object(j.jsx)(d.a,{className:"py-3",children:Object(j.jsxs)(l.a,{children:["Forgot Password? ",Object(j.jsx)(n.Link,{to:"/forgotpassword",children:"Forgot Password"})]})}),Object(j.jsx)(d.a,{children:Object(j.jsxs)(l.a,{children:["New Customer?"," ",Object(j.jsx)(n.Link,{to:b?`/register?redirect=${b}`:"/register",children:"Register"})]})})]})]})};var $t=()=>{const[e,t]=Object(s.useState)(""),[a,r]=Object(s.useState)(""),[c,i]=Object(s.useState)(""),[p,h]=Object(s.useState)(""),[b,O]=Object(s.useState)(""),u=Object(x.b)(),g=Object(x.c)((e=>e.userRegister)),y=Object(o.k)(),f=Object(o.l)(),I=f.search?f.search.split("=")[1]:"/",{userInfo:C,loading:_,error:R}=g;Object(s.useEffect)((()=>{C&&y.push(I)}),[y,C,I]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_t,{title:"Store Notify| Register"}),Object(j.jsxs)(zt,{children:[Object(j.jsx)("h1",{children:"Sign In"}),b&&Object(j.jsx)(mt,{variant:"danger",children:b}),R&&Object(j.jsx)(mt,{variant:"danger",children:R}),_&&Object(j.jsx)(ft,{}),Object(j.jsxs)(Te.a,{onSubmit:t=>{t.preventDefault(),c!==p?O("Password does not match"):u(((e,t,a)=>async s=>{try{s({type:v});const r={headers:{"Content-Type":"application/json"}},{data:c}=await Re.a.post("https://5f6de4a7-67ca-41e3-8e73-63d1fd322c3e.e1-us-east-azure.choreoapps.dev/api/user/register",{name:e,email:t,password:a},r);s({type:S,payload:c}),s({type:m,payload:c}),localStorage.setItem(Ee,JSON.stringify(c))}catch(R){s({type:E,payload:R.response&&R.response.data.message?R.response.data.message:R.message})}})(e,a,c))},children:[Object(j.jsxs)(Te.a.Group,{controlId:"name",children:[Object(j.jsx)(Te.a.Label,{children:"Name"}),Object(j.jsx)(Te.a.Control,{type:"text",placeholder:"Enter Name",value:e,onChange:e=>t(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"email",children:[Object(j.jsx)(Te.a.Label,{children:"Enter your email"}),Object(j.jsx)(Te.a.Control,{type:"email",placeholder:"Enter email",value:a,onChange:e=>r(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"password",children:[Object(j.jsx)(Te.a.Label,{children:"Enter your password"}),Object(j.jsx)(Te.a.Control,{type:"password",placeholder:"Enter password",value:c,onChange:e=>i(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"confirmPassword",children:[Object(j.jsx)(Te.a.Label,{children:"Confirm password"}),Object(j.jsx)(Te.a.Control,{type:"password",placeholder:"Confirm Password",value:p,onChange:e=>h(e.target.value),required:!0})]}),Object(j.jsx)(Ae.a,{type:"submit",variant:"primary",children:"Register"})]}),Object(j.jsx)(d.a,{className:"py-3",children:Object(j.jsxs)(l.a,{children:["Have an account?"," ",Object(j.jsx)(n.Link,{to:I?`/login?redirect=${I}`:"/login",children:"Login"})]})})]})]})},qt=a(126);const Qt=e=>async(t,a)=>{try{t({type:ce});const s={headers:{Authorization:a().userLogin.userInfo.token}},{data:r}=await Re.a.get(`https://5f6de4a7-67ca-41e3-8e73-63d1fd322c3e.e1-us-east-azure.choreoapps.dev/api/orders/${e}`,s);t({type:ne,payload:r})}catch(s){t({type:oe,payload:s.response&&s.response.data.message?s.response.data.message:s.message})}};var Jt=()=>{const[e,t]=Object(s.useState)(""),[a,r]=Object(s.useState)(""),[c,n]=Object(s.useState)(""),[i,p]=Object(s.useState)(""),[h,b]=Object(s.useState)(""),O=Object(x.b)(),g=Object(o.k)(),y=Object(x.c)((e=>e.userDetails)),{user:f,loading:v,error:S}=y,E=Object(x.c)((e=>e.userLogin)),{userInfo:I}=E,C=Object(x.c)((e=>e.myOrder)),{loading:_,myOrders:R,error:T}=C,A=Object(x.c)((e=>e.userUpdateProfile.success));Object(s.useEffect)((()=>{var e;I?f&&f.name&&!A?(t(f.name),r(f.email)):(O({type:G}),O((e="profile",async(t,a)=>{try{t({type:P});const{userInfo:s}=a().userLogin,r={headers:{"Content-Type":"application/json",Authorization:s.token}},{data:c}=await Re.a.get(`https://5f6de4a7-67ca-41e3-8e73-63d1fd322c3e.e1-us-east-azure.choreoapps.dev/api/user/${e}`,r);t({type:D,payload:c})}catch(S){t({type:w,payload:S.response&&S.response.data.message?S.response.data.message:S.message})}})),O((async(e,t)=>{try{e({type:pe});const a={headers:{"Content-Type":"application/json",Authorization:t().userLogin.userInfo.token}},{data:s}=await Re.a.get("/api/orders/myorders",a);e({type:he,payload:s})}catch(S){e({type:be,payload:S.response&&S.response.data.message?S.response.data.message:S.message})}}))):g.push("/login")}),[O,g,I,f,A]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_t,{title:I&&`Store Notify| ${I.name}`}),Object(j.jsxs)(d.a,{children:[Object(j.jsxs)(l.a,{md:3,children:[Object(j.jsx)("h2",{children:"Users profile"}),h&&Object(j.jsx)(mt,{variant:"danger",children:h}),S&&Object(j.jsx)(mt,{variant:"danger",children:S}),A&&Object(j.jsx)(mt,{variant:"info",children:"Profile updated Successfully"}),v&&Object(j.jsx)(ft,{}),Object(j.jsxs)(Te.a,{onSubmit:t=>{if(t.preventDefault(),c!==i)b("Password does not match");else{const t={_id:f._id,name:e,email:a,password:c};O((e=>async(t,a)=>{try{t({type:N});const{userInfo:s}=a().userLogin,r={headers:{"Content-Type":"application/json",Authorization:s.token}},{data:c}=await Re.a.put("https://5f6de4a7-67ca-41e3-8e73-63d1fd322c3e.e1-us-east-azure.choreoapps.dev/api/user/profile",e,r);t({type:U,payload:c}),t({type:m,payload:c}),localStorage.setItem(Ee,JSON.stringify(c))}catch(S){t({type:F,payload:S.response&&S.response.data.message?S.response.data.message:S.message})}})(t))}},children:[Object(j.jsxs)(Te.a.Group,{controlId:"name",children:[Object(j.jsx)(Te.a.Label,{children:"Name"}),Object(j.jsx)(Te.a.Control,{type:"text",placeholder:"Enter Name",value:e,onChange:e=>t(e.target.value)})]}),Object(j.jsxs)(Te.a.Group,{controlId:"email",children:[Object(j.jsx)(Te.a.Label,{children:"Enter your email"}),Object(j.jsx)(Te.a.Control,{type:"email",placeholder:"Enter email",value:a,onChange:e=>r(e.target.value)})]}),Object(j.jsxs)(Te.a.Group,{controlId:"password",children:[Object(j.jsx)(Te.a.Label,{children:"Enter your password"}),Object(j.jsx)(Te.a.Control,{type:"password",placeholder:"Enter password",value:c,onChange:e=>n(e.target.value)})]}),Object(j.jsxs)(Te.a.Group,{controlId:"confirmPassword",children:[Object(j.jsx)(Te.a.Label,{children:"Confirm password"}),Object(j.jsx)(Te.a.Control,{type:"password",placeholder:"Confirm Password",value:i,onChange:e=>p(e.target.value)})]}),Object(j.jsx)(Ae.a,{type:"submit",variant:"primary",children:"Update"})]})]}),Object(j.jsxs)(l.a,{md:9,children:[Object(j.jsx)("h2",{children:"My Orders"}),_?Object(j.jsx)(ft,{}):T?Object(j.jsx)(mt,{variant:"danger",children:T}):Object(j.jsxs)(qt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"ID"}),Object(j.jsx)("th",{children:"DATE"}),Object(j.jsx)("th",{children:"TOTAL"}),Object(j.jsx)("th",{children:"PAID"}),Object(j.jsx)("th",{children:"DELIVERED"}),Object(j.jsx)("th",{})]})}),Object(j.jsx)("tbody",{children:R.map((e=>Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e._id}),Object(j.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(j.jsx)("td",{children:e.totalPrice}),Object(j.jsx)("td",{children:e.isPaid?e.paidAt.substring(0,10):Object(j.jsx)("i",{className:"fas fa-times text-center",style:{color:"red"}})}),Object(j.jsx)("td",{children:e.isDelivered?e.deliveredAt.substring(0,10):Object(j.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(j.jsx)("td",{children:Object(j.jsx)(u.LinkContainer,{to:`/order/${e._id}`,children:Object(j.jsx)(Ae.a,{className:"btn-sm",variant:"dark",children:"Details"})})})]},e._id)))})]})]})]})]})};var Bt=e=>{let{step1:t,step2:a,step3:s,step4:r}=e;return Object(j.jsxs)(b.a,{className:"justify-content-center mb-4",children:[Object(j.jsx)(b.a.Item,{children:t?Object(j.jsx)(u.LinkContainer,{to:"/login",children:Object(j.jsx)(b.a.Link,{children:"Sign In"})}):Object(j.jsx)(b.a.Link,{disabled:!0,children:"Sign In"})}),Object(j.jsx)(b.a.Item,{children:a?Object(j.jsx)(u.LinkContainer,{to:"/shipping",children:Object(j.jsx)(b.a.Link,{children:"Shipping"})}):Object(j.jsx)(b.a.Link,{disabled:!0,children:"shipping"})}),Object(j.jsx)(b.a.Item,{children:s?Object(j.jsx)(u.LinkContainer,{to:"/payment",children:Object(j.jsx)(b.a.Link,{children:"Payment"})}):Object(j.jsx)(b.a.Link,{disabled:!0,children:"Payment"})}),Object(j.jsx)(b.a.Item,{children:r?Object(j.jsx)(u.LinkContainer,{to:"/placeorder",children:Object(j.jsx)(b.a.Link,{children:"Place Order"})}):Object(j.jsx)(b.a.Link,{disabled:!0,children:"Place Order"})})]})};var Yt=()=>{const e=Object(x.c)((e=>e.cart.shippingAddress)),[t,a]=Object(s.useState)(e.address||""),[r,c]=Object(s.useState)(e.city||""),[n,i]=Object(s.useState)(e.postalCode||""),[d,l]=Object(s.useState)(e.country||""),p=Object(o.k)(),h=Object(x.b)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_t,{title:"Store Notify| Shipping"}),Object(j.jsxs)(zt,{children:[Object(j.jsx)(Bt,{step1:!0,step2:!0}),Object(j.jsx)("h1",{children:"Shipping"}),Object(j.jsxs)(Te.a,{onSubmit:e=>{e.preventDefault();var a;h((a={address:t,city:r,postalCode:n,country:d},e=>{e({type:Nt,payload:a}),localStorage.setItem(Ie,JSON.stringify(a))})),p.push("/payment")},children:[Object(j.jsxs)(Te.a.Group,{controlId:"address",children:[Object(j.jsx)(Te.a.Label,{children:"Address"}),Object(j.jsx)(Te.a.Control,{type:"text",placeholder:"Enter Address",value:t,onChange:e=>a(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"city",children:[Object(j.jsx)(Te.a.Label,{children:"City"}),Object(j.jsx)(Te.a.Control,{type:"text",placeholder:"Enter City",value:r,onChange:e=>c(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"postalCode",children:[Object(j.jsx)(Te.a.Label,{children:"Postal Code"}),Object(j.jsx)(Te.a.Control,{type:"text",placeholder:"Enter Postal Code",value:n,onChange:e=>i(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"country",children:[Object(j.jsx)(Te.a.Label,{children:"Country"}),Object(j.jsx)(Te.a.Control,{type:"text",placeholder:"Enter Country",value:d,onChange:e=>l(e.target.value),required:!0})]}),Object(j.jsx)(Ae.a,{type:"submit",variant:"primary",children:"Continue"})]})]})]})};var Wt=()=>{const e=Object(x.c)((e=>e.cart.shippingAddress)),t=Object(o.k)();e||t.push("/shipping");const[a,r]=Object(s.useState)("Razorpay"),c=Object(x.b)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_t,{title:"Store Notify| Payment"}),Object(j.jsxs)(zt,{children:[Object(j.jsx)(Bt,{step1:!0,step2:!0,step3:!0}),Object(j.jsx)("h1",{children:"Payment Method"}),Object(j.jsxs)(Te.a,{onSubmit:e=>{var s;e.preventDefault(),c((s=a,e=>{e({type:Ut,payload:s}),localStorage.setItem(Ce,JSON.stringify(s))})),t.push("/placeorder")},children:[Object(j.jsxs)(Te.a.Group,{children:[Object(j.jsx)(Te.a.Label,{as:"legend",children:"Select Method"}),Object(j.jsx)(l.a,{children:Object(j.jsx)(Te.a.Check,{type:"radio",label:"Razorpay UPI Debit Credit Card",id:"Razorpay",name:"paymentMethod",value:"Razorpay",checked:!0,onChange:e=>r(e.target.value)})})]}),Object(j.jsx)(Ae.a,{type:"submit",variant:"primary",children:"Continue"})]})]})]})};var Vt=()=>{const e=Object(x.b)(),t=Object(x.c)((e=>e.cart)),a=Object(o.k)();t.itemsPrice=t.cartItems.reduce(((e,t)=>e+t.price*t.qty),0),t.shippingPrice=t.itemsPrice>1500?0:150,t.taxPrice=Number((.05*t.itemsPrice).toFixed(2)),t.totalPrice=Number(t.itemsPrice+t.shippingPrice+t.taxPrice);const r=Object(x.c)((e=>e.orderCreate)),{success:c,order:i,error:p}=r;Object(s.useEffect)((()=>{c&&a.push(`/order/${i._id}`)}),[a,c]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_t,{title:"Store Notify| Confirm Order"}),Object(j.jsx)(Bt,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{md:8,children:Object(j.jsxs)(Lt.a,{variant:"flush",children:[Object(j.jsxs)(Lt.a.Item,{children:[Object(j.jsx)("h2",{children:"Shipping"}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Address:"}),t.shippingAddress.address,",",t.shippingAddress.city,",",t.shippingAddress.postalCode,",",t.shippingAddress.country]})]}),Object(j.jsxs)(Lt.a.Item,{children:[Object(j.jsx)("h2",{children:"Payment Method"}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Method:"}),t.paymentMethod]})]}),Object(j.jsxs)(Lt.a.Item,{children:[Object(j.jsx)("h2",{children:"Order Items"}),0===t.cartItems.length?Object(j.jsx)(mt,{children:"Your Cart is Empty"}):Object(j.jsx)(Lt.a.Item,{children:t.cartItems.map(((e,t)=>Object(j.jsx)(Lt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{md:2,children:Object(j.jsx)(St.a,{src:e.image,alt:e.name,fluid:!0})}),Object(j.jsx)(l.a,{children:Object(j.jsx)(n.Link,{to:`/product/${e.product}`,children:e.name})}),Object(j.jsxs)(l.a,{md:4,children:[e.qty," x Rs ",e.price," = Rs"," ",e.qty*e.price]})]})},t)))})]})]})}),Object(j.jsx)(l.a,{md:4,children:Object(j.jsx)(De.a,{children:Object(j.jsxs)(Lt.a,{variant:"flush",children:[Object(j.jsx)(Lt.a.Item,{children:Object(j.jsx)("h2",{children:"Order Summary"})}),Object(j.jsx)(Lt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Items"}),Object(j.jsxs)(l.a,{children:["Rs ",t.itemsPrice]})]})}),Object(j.jsx)(Lt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Shipping"}),Object(j.jsxs)(l.a,{children:["Rs ",t.shippingPrice]})]})}),Object(j.jsx)(Lt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Tax"}),Object(j.jsxs)(l.a,{children:["Rs ",t.taxPrice]})]})}),Object(j.jsx)(Lt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Total Price"}),Object(j.jsxs)(l.a,{children:["Rs ",t.totalPrice]})]})}),Object(j.jsx)(Lt.a.Item,{children:p&&Object(j.jsx)(mt,{variant:"danger",children:p})}),Object(j.jsx)(Lt.a.Item,{children:Object(j.jsx)(Ae.a,{type:"button",disabled:0===t.cartItems,onClick:()=>{let a={orderItems:t.cartItems,shippingAddress:t.shippingAddress,paymentMethod:t.paymentMethod,itemsPrice:t.itemsPrice,shippingPrice:t.shippingPrice,taxPrice:t.taxPrice,totalPrice:t.totalPrice};e((e=>async(t,a)=>{try{t({type:te});const s={headers:{"Content-Type":"application/json",Authorization:a().userLogin.userInfo.token}},{data:r}=await Re.a.post("/api/orders",e,s);t({type:ae,payload:r})}catch(p){t({type:se,payload:p.response&&p.response.data.message?p.response.data.message:p.message})}})(a))},className:"btn-block",children:"Place Order"})})]})})})]})]})};var Ht=()=>{const e=Object(x.b)(),{id:t}=Object(o.m)(),a=Object(o.k)(),[r,c]=Object(s.useState)(!1),[i,p]=Object(s.useState)(!1),h=Object(x.c)((e=>e.userLogin.userInfo)),b=Object(x.c)((e=>e.orderDetails)),{loading:O,error:u,order:g}=b,m=Object(x.c)((e=>e.orderPay)),{loading:y,success:f}=m,v=Object(x.c)((e=>e.updateOrder.success)),[S,E]=Object(s.useState)(!1);Object(s.useEffect)((()=>{h||a.push("/login");!g||f||g._id!==t?(e({type:je}),e(Qt(t))):g.isPaid&&window.Razorpay||(e=>{const t=document.createElement("script");t.src=e,document.body.appendChild(t),t.onload=()=>{c(!0)}})("https://checkout.razorpay.com/v1/checkout.js")}),[e,t,g,h,a,f]),O||u||(g.itemsPrice=g.orderItems.reduce(((e,t)=>e+t.price*t.qty),0)),Object(s.useEffect)((()=>{v&&e(Qt(t))}),[v,e,t]),Object(s.useEffect)((()=>{g&&g.isDelivered&&E(g.isDelivered)}),[g]);return O?Object(j.jsx)(ft,{}):u?Object(j.jsx)(mt,{variant:"danger",children:u}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_t,{title:"Store Notify| Order details"}),Object(j.jsxs)("h1",{children:["Order ",g._id]}),Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{md:8,children:Object(j.jsxs)(Lt.a,{variant:"flush",children:[Object(j.jsxs)(Lt.a.Item,{children:[Object(j.jsx)("h2",{children:"Shipping"}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Name:"}),g.user.name]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Email:"}),Object(j.jsx)("a",{href:`mailto:${g.user.email}`,children:g.user.email})]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Address:"}),g.shippingAddress.address,",",g.shippingAddress.city,",",g.shippingAddress.postalCode,",",g.shippingAddress.country]}),g.isDelivered?Object(j.jsxs)(mt,{variant:"success",children:["Delivered at ",g.deliveredAt]}):Object(j.jsx)(mt,{variant:"danger",children:"Not Delivered"})]}),Object(j.jsxs)(Lt.a.Item,{children:[Object(j.jsx)("h2",{children:"Payment Method"}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Method:"}),g.paymentMethod]}),g.isPaid?Object(j.jsxs)(mt,{variant:"success",children:["Order Paid at ",g.paidAt]}):Object(j.jsx)(mt,{variant:"danger",children:"Order Not Paid"})]}),Object(j.jsxs)(Lt.a.Item,{children:[Object(j.jsx)("h2",{children:"Order Items"}),0===g.orderItems.length?Object(j.jsx)(mt,{children:"Your Cart is Empty"}):Object(j.jsx)(Lt.a.Item,{children:g.orderItems.map(((e,t)=>Object(j.jsx)(Lt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{md:2,children:Object(j.jsx)(St.a,{src:e.image,alt:e.name,fluid:!0})}),Object(j.jsx)(l.a,{children:Object(j.jsx)(n.Link,{to:`/product/${e.product}`,children:e.name})}),Object(j.jsxs)(l.a,{md:4,children:[e.qty," x Rs",e.price," = Rs",e.qty*e.price]})]})},t)))})]})]})}),Object(j.jsx)(l.a,{md:4,children:Object(j.jsx)(De.a,{children:Object(j.jsxs)(Lt.a,{variant:"flush",children:[Object(j.jsx)(Lt.a.Item,{children:Object(j.jsx)("h2",{children:"Order Summary"})}),Object(j.jsx)(Lt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Items"}),Object(j.jsxs)(l.a,{children:["Rs",g.itemsPrice]})]})}),Object(j.jsx)(Lt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Shipping"}),Object(j.jsxs)(l.a,{children:["Rs",g.shippingPrice]})]})}),Object(j.jsx)(Lt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Tax"}),Object(j.jsxs)(l.a,{children:["Rs",g.taxPrice]})]})}),Object(j.jsx)(Lt.a.Item,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(l.a,{children:"Total Price"}),Object(j.jsxs)(l.a,{children:["Rs",g.totalPrice]})]})}),!g.isPaid&&Object(j.jsxs)(Lt.a.Item,{children:[y&&Object(j.jsx)(ft,{}),r?Object(j.jsx)(j.Fragment,{children:!h.isAdmin&&Object(j.jsx)(Ae.a,{variant:"primary",onClick:async function(){const{data:a}=await Re.a.get("/api/config/razorpay"),s={headers:{Authorization:h.token}},{data:r}=await Re.a.post(`https://5f6de4a7-67ca-41e3-8e73-63d1fd322c3e.e1-us-east-azure.choreoapps.dev/api/orders/${t}`,"",s),{amount:c,currency:n,orderId:o}=r,i={key:a,amount:c,currency:n,name:t,description:t,order_id:o,prefill:{name:h.name,email:h.email},notes:{shippingAddress:b.order.shippingAddress.address},handler:function(a){if(a.razorpay_payment_id){const s={order_id:a.razorpay_order_id,payment_id:a.razorpay_payment_id,signature:a.razorpay_signature,email_address:h.email};p(!0),e(((e,t)=>async(a,s)=>{try{a({type:ie});const r={headers:{"Content-Type":"application/json",Authorization:s().userLogin.userInfo.token}},{data:c}=await Re.a.put(`https://5f6de4a7-67ca-41e3-8e73-63d1fd322c3e.e1-us-east-azure.choreoapps.dev/api/orders/${e}/pay`,t,r);a({type:de,payload:c}),a({type:kt}),localStorage.removeItem(Se)}catch(u){a({type:le,payload:u.response&&u.response.data.message?u.response.data.message:u.message})}})(t,s)),e({type:re})}}};new window.Razorpay(i).open()},children:"Pay Now"})}):Object(j.jsx)(ft,{})]}),i&&Object(j.jsx)(mt,{variant:"info",children:"Payment Done Sucessfully"}),h.isAdmin&&g.isPaid&&Object(j.jsxs)(Lt.a.Item,{children:[Object(j.jsx)(Te.a.Check,{type:"checkbox",label:"IsDelivered",checked:S,onChange:e=>E(e.target.checked)}),Object(j.jsx)(Ae.a,{className:"btn-md my-2",variant:"dark",onClick:()=>{e(((e,t)=>async(a,s)=>{try{a({type:me});const r={headers:{"Content-Type":"application/json",Authorization:s().userLogin.userInfo.token}};console.log(e),console.log(t);const{data:c}=await Re.a.put(`https://5f6de4a7-67ca-41e3-8e73-63d1fd322c3e.e1-us-east-azure.choreoapps.dev/api/orders/${t}`,e,r);a({type:ye,payload:c})}catch(u){a({type:fe,payload:u.response&&u.response.data.message?u.response.data.message:u.message})}})({isDelivered:S},t))},children:g.isDelivered?"Mark undelivered":"Mark Delivered"})]})]})})})]})]})};var Kt=()=>{const e=Object(x.b)(),t=Object(x.c)((e=>e.userList)),a=Object(x.c)((e=>e.userLogin.userInfo)),r=Object(x.c)((e=>e.userDelete)),{success:c}=r,n=Object(o.k)(),{users:i,loading:d,error:l}=t;Object(s.useEffect)((()=>{a&&a.isAdmin?e((async(e,t)=>{try{e({type:z});const{userInfo:a}=t().userLogin,s={headers:{"Content-Type":"application/json",Authorization:a.token}},{data:r}=await Re.a.get("https://5f6de4a7-67ca-41e3-8e73-63d1fd322c3e.e1-us-east-azure.choreoapps.dev/api/user/users",s);e({type:M,payload:r})}catch(l){e({type:$,payload:l.response&&l.response.data.message?l.response.data.message:l.message})}})):n.push("/")}),[e,n,a,c]);const p=async t=>{var a;window.confirm("Are you sure")&&e((a=t,async(e,t)=>{try{e({type:Q});const{userInfo:s}=t().userLogin,r={headers:{"Content-Type":"application/json",Authorization:s.token}};await Re.a.delete(`https://5f6de4a7-67ca-41e3-8e73-63d1fd322c3e.e1-us-east-azure.choreoapps.dev/api/user/users/${a}`,r),e({type:J})}catch(l){e({type:B,payload:l.response&&l.response.data.message?l.response.data.message:l.message})}}))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_t,{title:"Store NotifyUsers"}),Object(j.jsx)("h1",{children:"Users"}),d?Object(j.jsx)(ft,{}):l?Object(j.jsx)(mt,{variant:"danger",children:l}):Object(j.jsxs)(qt.a,{striped:!0,responsive:!0,hover:!0,className:"table-sm",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"ID"}),Object(j.jsx)("th",{children:"NAME"}),Object(j.jsx)("th",{children:"EMAIL"}),Object(j.jsx)("th",{children:"ADMIN"}),Object(j.jsx)("th",{})]})}),Object(j.jsx)("tbody",{children:i.map((e=>Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e._id}),Object(j.jsx)("td",{children:e.name}),Object(j.jsx)("td",{children:Object(j.jsx)("a",{href:`mailto:${e.email}`,children:e.email})}),Object(j.jsx)("td",{children:e.isAdmin?Object(j.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(j.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(j.jsxs)("td",{children:[Object(j.jsx)(u.LinkContainer,{to:`/admin/user/${e._id}/edit`,children:Object(j.jsx)(Ae.a,{className:"btn-sm",variant:"light",children:Object(j.jsx)("i",{className:"fas fa-edit"})})}),Object(j.jsx)(Ae.a,{variant:"danger",className:"btn-sm",onClick:()=>{p(e._id)},children:Object(j.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)))})]})]})};var Xt=()=>{const[e,t]=Object(s.useState)(""),[a,r]=Object(s.useState)(""),[c,i]=Object(s.useState)(!1),[d,l]=Object(s.useState)(!1),{id:p}=Object(o.m)(),h=Object(x.b)(),b=Object(x.c)((e=>e.getUserFromId)),{loading:O,error:u,user:g}=b;Object(s.useEffect)((()=>{g&&g.name&&g._id===p?(t(g.name),r(g.email),i(g.isAdmin)):h((e=>async(t,a)=>{try{t({type:Y});const{userInfo:s}=a().userLogin,r={headers:{"Content-Type":"application/json",Authorization:s.token}},{data:c}=await Re.a.get(`https://5f6de4a7-67ca-41e3-8e73-63d1fd322c3e.e1-us-east-azure.choreoapps.dev/api/user/users/${e}`,r);t({type:W,payload:c})}catch(u){t({type:V,payload:u.response&&u.response.data.message?u.response.data.message:u.message})}})(p))}),[h,p,g]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(n.Link,{to:"/admin/userlist",className:"btn btn-light my-3",children:"Go Back"}),Object(j.jsxs)(zt,{children:[Object(j.jsx)("h1",{children:"Update User Profile"}),O?Object(j.jsx)(ft,{}):u?Object(j.jsx)(mt,{variant:"danger",children:u}):Object(j.jsxs)(j.Fragment,{children:[d&&Object(j.jsx)(mt,{variant:"info",children:"User Updated Successfully"}),Object(j.jsxs)(Te.a,{onSubmit:t=>{t.preventDefault(),h(((e,t)=>async(a,s)=>{try{a({type:K});const{userInfo:r}=s().userLogin,c={headers:{"Content-Type":"application/json",Authorization:r.token}},{data:n}=await Re.a.put(`https://5f6de4a7-67ca-41e3-8e73-63d1fd322c3e.e1-us-east-azure.choreoapps.dev/api/user/users/${t}`,e,c);a({type:X,payload:n}),a({type:W,payload:n})}catch(u){a({type:Z,payload:u.response&&u.response.data.message?u.response.data.message:u.message})}})({name:e,email:a,isAdmin:c},p)),l(!0)},children:[Object(j.jsxs)(Te.a.Group,{controlId:"name",children:[Object(j.jsx)(Te.a.Label,{children:"Name"}),Object(j.jsx)(Te.a.Control,{type:"text",placeholder:"Enter Name",value:e,onChange:e=>t(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"email",children:[Object(j.jsx)(Te.a.Label,{children:"Enter your email"}),Object(j.jsx)(Te.a.Control,{type:"email",placeholder:"Enter email",value:a,onChange:e=>r(e.target.value),required:!0})]}),Object(j.jsx)(Te.a.Group,{controlId:"isAdmin",children:Object(j.jsx)(Te.a.Check,{type:"checkbox",label:"Is Admin",checked:c,onChange:e=>i(e.target.checked)})}),Object(j.jsx)(Ae.a,{type:"submit",variant:"primary",children:"Update"})]})]})]})]})};var Zt=()=>{const e=Object(x.b)();let t=Object(o.m)().pageNumber||1;const a=Object(x.c)((e=>e.userLogin.userInfo)),r=Object(x.c)((e=>e.productList)),{loading:c,error:n,products:i,pages:p,page:h}=r,b=Object(x.c)((e=>e.productCreate)),{loading:O,error:g,product:m,success:y}=b,f=Object(x.c)((e=>e.productDelete.success)),v=Object(o.k)();Object(s.useEffect)((()=>{e({type:Xe}),a&&a.isAdmin||v.push("/login"),y?v.push(`/admin/product/${m._id}/edit`):e(ht("",t))}),[e,v,a,f,y,m,t]);const S=async t=>{var a;window.confirm("Are you sure")&&e((a=t,async(e,t)=>{try{e({type:Be});const{userInfo:s}=t().userLogin,r={headers:{"Content-Type":"application/json",Authorization:s.token}};await Re.a.delete(`https://5f6de4a7-67ca-41e3-8e73-63d1fd322c3e.e1-us-east-azure.choreoapps.dev/api/products/${a}`,r),e({type:Ye})}catch(n){e({type:We,payload:n.response&&n.response.data.message?n.response.data.message:n.message})}}))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_t,{title:"Store Notify| Product-List"}),Object(j.jsxs)(d.a,{className:"align-items-center",children:[Object(j.jsx)(l.a,{children:Object(j.jsx)("h1",{children:"Products"})}),Object(j.jsx)(l.a,{className:"text-right",children:Object(j.jsxs)(Ae.a,{className:"my-3",onClick:()=>{e((async(e,t)=>{try{e({type:Ve});const{userInfo:a}=t().userLogin,s={headers:{"Content-Type":"application/json",Authorization:a.token}},{data:r}=await Re.a.post("https://5f6de4a7-67ca-41e3-8e73-63d1fd322c3e.e1-us-east-azure.choreoapps.dev/api/products",{},s);e({type:He,payload:r})}catch(n){e({type:Ke,payload:n.response&&n.response.data.message?n.response.data.message:n.message})}}))},children:[Object(j.jsx)("i",{className:"fas fa-plus"})," Create Product"]})})]}),O&&Object(j.jsx)(ft,{}),g&&Object(j.jsx)(mt,{variant:"danger",children:g}),c?Object(j.jsx)(ft,{}):n?Object(j.jsx)(mt,{variant:"danger",children:n}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(qt.a,{striped:!0,responsive:!0,hover:!0,className:"table-sm",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"ID"}),Object(j.jsx)("th",{children:"NAME"}),Object(j.jsx)("th",{children:"PRICE"}),Object(j.jsx)("th",{children:"CATEGORY"}),Object(j.jsx)("th",{children:"BRAND"}),Object(j.jsx)("th",{})]})}),Object(j.jsx)("tbody",{children:i.map((e=>Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e._id}),Object(j.jsx)("td",{children:e.name}),Object(j.jsxs)("td",{children:["Rs ",e.price]}),Object(j.jsx)("td",{children:e.category}),Object(j.jsx)("td",{children:e.brand}),Object(j.jsxs)("td",{children:[Object(j.jsx)(u.LinkContainer,{to:`/admin/product/${e._id}/edit`,children:Object(j.jsx)(Ae.a,{className:"btn-sm",variant:"light",children:Object(j.jsx)("i",{className:"fas fa-edit"})})}),Object(j.jsx)(Ae.a,{variant:"danger",className:"btn-sm",onClick:()=>{S(e._id)},children:Object(j.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)))})]}),Object(j.jsx)(ut,{pages:p,page:h,isAdmin:a.isAdmin})]})]})};var ea=()=>{const e=Object(x.b)(),{id:t}=Object(o.m)(),a=Object(o.k)(),[r,c]=Object(s.useState)(""),[i,d]=Object(s.useState)(""),[l,p]=Object(s.useState)(""),[h,b]=Object(s.useState)(""),[O,u]=Object(s.useState)(0),[g,m]=Object(s.useState)(0),[y,f]=Object(s.useState)(""),[v,S]=Object(s.useState)(!1),E=Object(x.c)((e=>e.productDetail)),{loading:I,error:C,product:_}=E,{laoding:R,error:T,success:A}=Object(x.c)((e=>e.productUpdate));Object(s.useEffect)((()=>{A?(e({type:at}),a.push("/admin/productlist")):_&&_._id===t?(c(_.name),m(_.price),d(_.image),p(_.brand),b(_.category),u(_.countInStock),f(_.description)):e(bt(t))}),[e,t,_,A,a]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_t,{title:"Store Notify| Edit Products"}),Object(j.jsx)(n.Link,{to:"/admin/productlist",className:"btn btn-light my-3",children:"Go Back"}),Object(j.jsxs)(zt,{children:[Object(j.jsx)("h1",{children:"Edit Product"}),R&&Object(j.jsx)(ft,{}),T&&Object(j.jsx)(mt,{variant:"danger",children:T}),I?Object(j.jsx)(ft,{}):C?Object(j.jsx)(mt,{variant:"danger",children:C}):Object(j.jsxs)(Te.a,{onSubmit:a=>{a.preventDefault(),e(((e,t)=>async(a,s)=>{try{a({type:Ze});const{userInfo:r}=s().userLogin,c={headers:{"Content-Type":"application/json",Authorization:r.token}},{data:n}=await Re.a.put(`https://5f6de4a7-67ca-41e3-8e73-63d1fd322c3e.e1-us-east-azure.choreoapps.dev/api/products/${t}`,e,c);a({type:et,payload:n})}catch(C){a({type:tt,payload:C.response&&C.response.data.message?C.response.data.message:C.message})}})({name:r,description:y,brand:l,category:h,countInStock:O,price:g,image:i},t))},children:[Object(j.jsxs)(Te.a.Group,{controlId:"name",children:[Object(j.jsx)(Te.a.Label,{children:"Name"}),Object(j.jsx)(Te.a.Control,{type:"text",placeholder:"Enter Name",value:r,onChange:e=>c(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"price",children:[Object(j.jsx)(Te.a.Label,{children:"Price"}),Object(j.jsx)(Te.a.Control,{type:"number",placeholder:"Enter Price",value:g,onChange:e=>m(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"image",children:[Object(j.jsx)(Te.a.Label,{children:"Image"}),Object(j.jsx)(Te.a.Control,{type:"text",placeholder:"Enter image url",value:i,onChange:e=>d(e.target.value)}),Object(j.jsx)(Te.a.File,{id:"image-file",label:"Choose File",custom:!0,onChange:async e=>{const t=e.target.files[0],a=new FormData;a.append("image",t),S(!0);try{const e={headers:{"Content-Type":"multipart/form-data"}},{data:t}=await Re.a.post("/api/upload",a,e);d(t),S(!1)}catch(C){console.error(C),S(!1)}}}),v&&Object(j.jsx)(ft,{})]}),Object(j.jsxs)(Te.a.Group,{controlId:"brand",children:[Object(j.jsx)(Te.a.Label,{children:"Brand"}),Object(j.jsx)(Te.a.Control,{type:"text",placeholder:"Enter Brand Name",value:l,onChange:e=>p(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"countInStock",children:[Object(j.jsx)(Te.a.Label,{children:"In Stock"}),Object(j.jsx)(Te.a.Control,{type:"text",placeholder:"Enter Item in Stocks",value:O,onChange:e=>u(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"category",children:[Object(j.jsx)(Te.a.Label,{children:"Category"}),Object(j.jsx)(Te.a.Control,{type:"text",placeholder:"Enter Category",value:h,onChange:e=>b(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"description",children:[Object(j.jsx)(Te.a.Label,{children:"Description"}),Object(j.jsx)(Te.a.Control,{type:"text",placeholder:"Enter Description",value:y,onChange:e=>f(e.target.value),required:!0})]}),Object(j.jsx)(Ae.a,{type:"submit",variant:"dark",className:"btn",children:"Update"})]})]})]})};var ta=()=>{const e=Object(x.b)(),t=Object(x.c)((e=>e.listOrder)),{error:a,loading:r,orders:c}=t,n=Object(x.c)((e=>e.userLogin.userInfo)),i=Object(o.k)();return Object(s.useEffect)((()=>{n&&n.isAdmin?e((async(e,t)=>{try{e({type:ue});const a={headers:{"Content-Type":"application/json",Authorization:t().userLogin.userInfo.token}},{data:s}=await Re.a.get("/api/orders",a);e({type:xe,payload:s})}catch(a){e({type:ge,payload:a.response&&a.response.data.message?a.response.data.message:a.message})}})):i.push("/login")}),[e,i,n]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_t,{title:"Store Notify| Orders List"}),Object(j.jsx)("h1",{children:"Orders"}),r?Object(j.jsx)(ft,{}):a?Object(j.jsx)(mt,{variant:"danger",children:a}):Object(j.jsxs)(qt.a,{striped:!0,responsive:!0,hover:!0,className:"table-sm",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"ID"}),Object(j.jsx)("th",{children:"USER-NAME"}),Object(j.jsx)("th",{children:"POSTAl CODE"}),Object(j.jsx)("th",{children:"TOTAL"}),Object(j.jsx)("th",{children:"DATE"}),Object(j.jsx)("th",{children:"PAID"}),Object(j.jsx)("th",{children:"DELIVERED"}),Object(j.jsx)("th",{})]})}),Object(j.jsx)("tbody",{children:c.map((e=>Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e._id}),Object(j.jsx)("td",{children:e.user.name}),Object(j.jsx)("td",{children:e.shippingAddress.postalCode}),Object(j.jsxs)("td",{children:["Rs ",e.totalPrice]}),Object(j.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(j.jsx)("td",{children:e.isPaid?Object(j.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(j.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(j.jsx)("td",{children:e.isDelivered?Object(j.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(j.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(j.jsx)("td",{children:Object(j.jsx)(u.LinkContainer,{to:`/order/${e._id}`,children:Object(j.jsx)(Ae.a,{className:"btn-sm",variant:"light",children:Object(j.jsx)("i",{className:"fas fa-edit"})})})})]},e._id)))})]})]})};var aa=()=>{const e=Object(x.c)((e=>e.filterProduct)),{products:t,error:a,loading:s}=e;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_t,{title:"Store Notify | Filtered Proucts"}),Object(j.jsx)(n.Link,{className:"btn btn-light my-2",to:"/",children:"Go Back"}),t&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"Filtered Products"}),s?Object(j.jsx)(ft,{}):a?Object(j.jsx)(mt,{variant:"danger",children:a}):Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(d.a,{children:t.map((e=>Object(j.jsx)(l.a,{sm:12,md:6,lg:6,xl:3,children:Object(j.jsx)(Ue,{product:e})},e._id)))})})]})]})};var sa=()=>{const e=Object(x.b)(),[t,a]=Object(s.useState)(""),{message:r,loading:c,error:o}=Object(x.c)((e=>e.userForgotPassword));return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_t,{title:"Store Notify| Forgot Password"}),Object(j.jsxs)(zt,{children:[Object(j.jsx)("h1",{children:"Forgot Password"}),o&&Object(j.jsx)(mt,{variant:"danger",children:o}),c&&Object(j.jsx)(ft,{}),r&&Object(j.jsx)(mt,{variant:"info",children:r}),Object(j.jsxs)(Te.a,{onSubmit:async a=>{a.preventDefault(),e((e=>async t=>{try{t({type:I});const a={headers:{"Content-Type":"application/json"}},{data:s}=await Re.a.post("https://5f6de4a7-67ca-41e3-8e73-63d1fd322c3e.e1-us-east-azure.choreoapps.dev/api/user/forgotpassword",{email:e},a);t({type:C,payload:s})}catch(o){t({type:_,payload:o.response&&o.response.data.message?o.response.data.message:o.message})}})(t))},children:[Object(j.jsxs)(Te.a.Group,{controlId:"email",children:[Object(j.jsx)(Te.a.Label,{children:"Enter your email"}),Object(j.jsx)(Te.a.Control,{type:"email",placeholder:"Enter email",value:t,onChange:e=>a(e.target.value),required:!0})]}),Object(j.jsx)(Ae.a,{type:"submit",variant:"primary",children:"Send Reset Link"})]}),Object(j.jsxs)("p",{className:"my-3",children:["Have an Account ? ",Object(j.jsx)(n.Link,{to:"/login",children:"Login"})," "]})]})]})};var ra=()=>{const e=Object(x.b)(),[t,a]=Object(s.useState)(""),[r,c]=Object(s.useState)(""),[n,i]=Object(s.useState)(""),{resetToken:d}=Object(o.m)(),l=Object(o.k)(),{error:p,loading:h,userInfo:b}=Object(x.c)((e=>e.userPasswordReset));Object(s.useEffect)((()=>{b&&l.push("/")}),[b,l]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(_t,{title:"Store Notify| Reset Password"}),Object(j.jsxs)(zt,{children:[Object(j.jsx)("h1",{children:"Reset Password"}),n&&Object(j.jsx)(mt,{variant:"danger",children:n}),p&&Object(j.jsx)(mt,{variant:"danger",children:p}),h&&Object(j.jsx)(ft,{}),Object(j.jsxs)(Te.a,{onSubmit:async a=>{a.preventDefault(),t!==r?i("Password does not match"):e(((e,t)=>async a=>{try{a({type:L});const s={headers:{"Content-Type":"application/json"}},{data:r}=await Re.a.put("https://5f6de4a7-67ca-41e3-8e73-63d1fd322c3e.e1-us-east-azure.choreoapps.dev/api/user/resetpassword",{resetToken:e,password:t},s);a({type:T,payload:r}),a({type:m,payload:r}),localStorage.setItem(Ee,JSON.stringify(r))}catch(p){a({type:A,payload:p.response&&p.response.data.message?p.response.data.message:p.message})}})(d,t))},children:[Object(j.jsxs)(Te.a.Group,{controlId:"password",children:[Object(j.jsx)(Te.a.Label,{children:"Enter your password"}),Object(j.jsx)(Te.a.Control,{type:"password",placeholder:"Enter password",value:t,onChange:e=>a(e.target.value),required:!0})]}),Object(j.jsxs)(Te.a.Group,{controlId:"confirmPassword",children:[Object(j.jsx)(Te.a.Label,{children:"Confirm password"}),Object(j.jsx)(Te.a.Control,{type:"password",placeholder:"Confirm Password",value:r,onChange:e=>c(e.target.value),required:!0})]}),Object(j.jsx)(Ae.a,{type:"submit",variant:"primary",children:"Reset Password"})]})]})]})};var ca=e=>{let{product:t}=e;return Object(j.jsxs)(De.a,{className:"my-3 p-3 rounded",children:[Object(j.jsx)("h2",{children:" Please login to see the products"}),Object(j.jsxs)(De.a.Body,{children:[Object(j.jsx)(n.Link,{to:"/login",children:Object(j.jsx)(De.a.Title,{as:"div",children:Object(j.jsx)("strong",{children:"Welcome Guest User"})})}),Object(j.jsx)(De.a.Text,{as:"div",children:Object(j.jsxs)("h3",{children:["`Visited the Site ",(new Date).toUTCString(),"`"]})}),Object(j.jsx)("button",{children:" LOGIN "})]})]})};var na=function(){return Object(j.jsxs)(n.BrowserRouter,{children:[Object(j.jsx)(Pe,{}),Object(j.jsx)("main",{className:"py-3",children:Object(j.jsxs)(i.a,{children:[Object(j.jsx)(o.d,{path:"/login",component:Mt}),Object(j.jsx)(o.d,{path:"/requestlogin",component:ca}),Object(j.jsx)(o.d,{path:"/register",component:$t}),Object(j.jsx)(o.d,{path:"/forgotpassword",component:sa}),Object(j.jsx)(o.d,{path:"/resetpassword/:resetToken",component:ra}),Object(j.jsx)(o.d,{path:"/profile",component:Jt}),Object(j.jsx)(o.d,{path:"/shipping",component:Yt}),Object(j.jsx)(o.d,{path:"/payment",component:Wt}),Object(j.jsx)(o.d,{path:"/placeorder",component:Vt}),Object(j.jsx)(o.d,{path:"/order/:id",component:Ht}),Object(j.jsx)(o.d,{path:"/product/:id",component:Pt}),Object(j.jsx)(o.d,{path:"/cart/:id?",component:Gt}),Object(j.jsx)(o.d,{path:"/admin/userlist",component:Kt}),Object(j.jsx)(o.d,{path:"/admin/user/:id/edit",component:Xt}),Object(j.jsx)(o.d,{path:"/admin/productlist",component:Zt,exact:!0}),Object(j.jsx)(o.d,{path:"/admin/productlist/page/:pageNumber",component:Zt,exact:!0}),Object(j.jsx)(o.d,{path:"/admin/product/:id/edit",component:ea}),Object(j.jsx)(o.d,{path:"/admin/orderlist",component:ta}),Object(j.jsx)(o.d,{path:"/search/:keywords",component:At}),Object(j.jsx)(o.d,{path:"/page/:pageNumber",component:At}),Object(j.jsx)(o.d,{path:"/filter",component:aa}),Object(j.jsx)(o.d,{path:"/search/:keywords/page/:pageNumber",component:At}),Object(j.jsx)(o.d,{path:"/",component:At,exact:!0})]})}),Object(j.jsx)(p,{})]})};const oa="LOAD_MODELS_SUCCESS";var ia=a(46),da=a(78),la=a(79);const ja={vivo:[],oppo:[],motorola:[],samsung:[]};const pa=Object(ia.combineReducers)({productList:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:return{loading:!0,products:[]};case Ge:return{loading:!1,products:t.payload.products,pages:t.payload.pages,page:t.payload.page};case ze:return{loading:!0,error:t.payload};default:return e}},filterProduct:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me:return{loading:!0};case $e:return{loading:!1,products:t.payload};case"PRODUCT_FILTER_FAIL":return{loading:!1,error:t.payload};default:return e}},productDetail:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe:return{loading:!0};case Qe:return{loading:!1,product:t.payload};case Je:return{loading:!1,error:t.payload};default:return e}},productDelete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be:return{loading:!0};case Ye:return{loading:!1,success:!0};case We:return{loading:!1,success:!1,error:t.payload};default:return e}},productCreate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve:return{loading:!0};case He:return{loading:!1,success:!0,product:t.payload};case Ke:return{loading:!1,success:!1,error:t.payload};case Xe:return{};default:return e}},productUpdate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze:return{loading:!0};case et:return{loading:!1,success:!0,product:t.payload};case tt:return{loading:!1,success:!1,error:t.payload};case at:return{product:{}};default:return e}},productReview:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case st:return{loading:!0};case rt:return{loading:!1,message:t.payload,success:!0};case ct:return{loading:!1,error:t.payload,success:!1};case nt:return{};default:return e}},productTopRated:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ot:return{loading:!0};case it:return{loading:!1,products:t.payload};case"PRODUCT_TOP_RATED_FAIL":return{loading:!1,error:t.payload};default:return e}},cart:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dt:const a=t.payload,s=e.cartItems.find((e=>e.product===a.product));return s?{...e,cartItems:e.cartItems.map((e=>e.product===s.product?a:e))}:{...e,cartItems:[...e.cartItems,a]};case wt:return{...e,cartItems:e.cartItems.filter((e=>e.product!==t.payload))};case kt:return{...e,cartItems:[]};case Nt:return{...e,shippingAddress:t.payload};case Ut:return{...e,paymentMethod:t.payload};default:return e}},models:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ja,t=arguments.length>1?arguments[1]:void 0;return t.type===oa?{...e,...t.payload}:e},userLogin:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{loading:!0,userInfo:null};case m:return{loading:!1,userInfo:t.payload};case y:return{loading:!1,error:t.payload};case f:return{};default:return e}},userRegister:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return{loading:!0,userInfo:null};case S:return{loading:!1,userInfo:t.payload};case E:return{loading:!1,error:t.payload};case f:return{};default:return e}},userForgotPassword:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return{loading:!0};case C:return{loading:!1,message:t.payload};case _:return{loading:!1,error:t.payload};default:return e}},userPasswordReset:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return{loading:!0,userInfo:null};case T:return{loading:!1,userInfo:t.payload};case A:return{loading:!1,error:t.payload};case L:return{};default:return e}},userDetails:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return{loading:!0,...e};case D:return{loading:!1,user:t.payload};case w:return{loading:!1,error:t.payload};case k:return{user:{}};default:return e}},userUpdateProfile:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{loading:!0};case U:return{loading:!1,success:!0,userInfo:t.payload};case F:return{loading:!1,success:!1,error:t.payload};case G:return{userInfo:{}};default:return e}},userList:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return{loading:!0};case M:return{loading:!1,users:t.payload};case $:return{loading:!1,error:t.payload};case q:return{users:[]};default:return e}},getUserFromId:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return{loading:!0};case W:return{loading:!1,user:t.payload};case V:return{loading:!1,error:t.payload};case H:return{user:{}};default:return e}},updateUserFromId:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return{loading:!0};case X:return{loading:!1,success:!0,userInfo:t.payload};case Z:return{loading:!1,success:!1,error:t.payload};case ee:return{userInfo:{}};default:return e}},userDelete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return{loading:!0};case J:return{loading:!1,success:!0};case B:return{loading:!1,success:!1,error:t.payload};default:return e}},orderCreate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return{loading:!0};case ae:return{loading:!1,success:!0,order:t.payload};case se:return{loading:!1,success:!1,error:t.payload};case re:return{};default:return e}},orderDetails:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return{...e,loading:!0};case ne:return{loading:!1,order:t.payload};case oe:return{loading:!1,error:t.payload};default:return e}},orderPay:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return{loading:!0};case de:return{loading:!1,success:!0};case le:return{loading:!1,error:t.payload};case je:return{};default:return e}},myOrder:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{myOrders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return{loading:!0};case he:return{loading:!1,myOrders:t.payload};case be:return{loading:!1,error:t.payload};case Oe:return{myOrders:[]};default:return e}},listOrder:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return{loading:!0};case xe:return{loading:!1,orders:t.payload};case ge:return{loading:!1,error:t.payload};default:return e}},updateOrder:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return{loading:!0};case ye:return{loading:!1,success:!0,orders:t.payload};case fe:return{loading:!1,success:!1,error:t.payload};case ve:return{order:{}};default:return e}}}),ha={cart:{cartItems:localStorage.getItem(Se)?JSON.parse(localStorage.getItem(Se)):[],shippingAddress:localStorage.getItem(Ie)?JSON.parse(localStorage.getItem(Ie)):{},paymentMethod:localStorage.getItem(Ce)?JSON.parse(localStorage.getItem(Ce)):null},userLogin:{userInfo:localStorage.getItem(Ee)?JSON.parse(localStorage.getItem(Ee)):null}},ba=[da.a];var Oa=Object(ia.createStore)(pa,ha,Object(la.composeWithDevTools)(Object(ia.applyMiddleware)(...ba)));c.a.render(Object(j.jsx)(x.a,{store:Oa,children:Object(j.jsx)(na,{})}),document.getElementById("root"))},71:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){}},[[118,1,2]]]);
//# sourceMappingURL=main.37ebba78.chunk.js.map